<?xml version="1.0"?>
<launch>

  <arg name="verbose" default="false" doc="Should more debug output be printed?" />
  <arg name="unpause" default="false" doc="Should the simulation be unpaused on start?" />
  <arg name="headless" default="false" doc="Should the simulation be rendered." />
  <arg name="num_sim_steps" default="-1"
    doc="Number of simulation steps to run. Set to '-1' to run indefinitely." />
  <arg name="modelfile"
    default="$(find mujoco_contact_surface_sensors)/assets/myrmex_surface_world.xml" />
  <param name="/use_sim_time" value="true" />

  <env name="ROSCONSOLE_FORMAT" value="[${severity}] [${time}] [${logger}] [${node}]: ${message}" />
  <env if="$(arg verbose)" name="ROSCONSOLE_CONFIG_FILE"
    value="$(find mujoco_contact_surface_sensors)/rosconsole.config" />

  <rosparam file="$(find mujoco_contact_surface_sensors)/config/flat_taxel_sensor.yaml"
    subst_value="true" />

  <node pkg="mujoco_ros" type="mujoco_server" name="mujoco_server" output="screen">
    <param name="modelfile" type="str" value="$(arg modelfile)" />
    <param name="visualize" value="true" />
  </node>
</launch>